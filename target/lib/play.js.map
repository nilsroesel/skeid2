{"version":3,"file":"play.js","sourceRoot":"","sources":["../../lib/play.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,qCAAuC;AACvC,yDAAsD;AACtD,yDAA+C;AAC/C,8CAAmE;AACnE,uDAA8D;AAE9D,MAAM,OAAO,GAAsB,IAAI,yBAAiB,EAAE,CAAC;AAI3D,IAAM,CAAC,GAAP,MAAM,CAAC;IAEH,KAAK;IAEL,CAAC;CACJ,CAAA;AAHG;IADC,gBAAG,CAAC,MAAM,CAAC;;;;8BAGX;AAJC,CAAC;IAFN,qBAAS;IACT,oBAAW,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,CAAC,OAAO,CAAC,EAAC,CAAC;GAC3C,CAAC,CAKN;AAGD,IAAM,CAAC,GAAP,MAAM,CAAC;IAAP;QAEW,WAAM,GAAsB,IAAI,yBAAiB,EAAE,CAAC;IAC/D,CAAC;CAAA,CAAA;AADG;IADC,kBAAU;8BACI,yBAAiB;iCAA2B;AAFzD,CAAC;IADN,qBAAS;GACJ,CAAC,CAGN;AAED,6BAAkB,CAAC,UAAU,CAAC,GAAG,EAAE;IAC/B,6BAAkB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;QAC1C,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAA;QACxC,CAAC,CAAC,MAAM,CAAC,kBAAkB,EAAE,CAAA;IACjC,CAAC,CAAC,CAAA;AACN,CAAC,CAAC,CAAC;AAEH,UAAU,CAAC,GAAG,EAAE;IACZ,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAChC,OAAO,CAAC,kBAAkB,EAAE,CAAC;AACjC,CAAC,CAAC,CAAC","sourcesContent":["import { Application } from './server';\nimport { Component } from './injection/src/component';\nimport { Get } from './server/src/decorators/';\nimport { ReadyState, ReadyStateEmitter } from './server/src/state';\nimport { applicationContext } from './injection/src/external';\n\nconst loader1: ReadyStateEmitter = new ReadyStateEmitter();\n\n@Component\n@Application({ port: 80, isReadyWhen: [loader1]})\nclass T {\n    @Get('/app')\n    index() {\n\n    }\n}\n\n@Component\nclass Z {\n    @ReadyState\n    public loader: ReadyStateEmitter = new ReadyStateEmitter();\n}\n\napplicationContext.whenLoaded(() => {\n    applicationContext.loadDependency(Z).then(z => {\n        console.log('component loader executed')\n        z.loader.changeStateToReady()\n    })\n});\n\nsetTimeout(() => {\n    console.log('loader1 executed');\n    loader1.changeStateToReady();\n});\n"]}