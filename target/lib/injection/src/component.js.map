{"version":3,"file":"component.js","sourceRoot":"","sources":["../../../../lib/injection/src/component.ts"],"names":[],"mappings":";;AAAA,yCAA0D;AAC1D,qDAK4B;AAE5B,SAAgB,SAAS,CAAK,SAAsC;IACjE,IAAK,0BAAW,CAAC,SAAS,CAAC,EAAG;QAC1B,OAAO,wBAAwB,CAAC,SAAS,CAAC,CAAC;KAC9C;SAAM,IAAK,6BAAc,CAAC,SAAS,CAAC,EAAG;QACpC,OAAO,sBAAsB,CAAC,SAAS,CAAC,CAAC;KAC5C;IAED,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;AAC/D,CAAC;AARD,8BAQC;AAED,SAAS,wBAAwB,CAAE,SAAoB;IACnD,IAAK,CAAC,0BAAW,CAAC,SAAS,CAAC,EAAG;QAC3B,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;KACxC;IACD,OAAO,CAAK,KAAsB,EAAa,EAAE;QAC7C,uCAA4B,CAAC,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;IAC9E,CAAC,CAAC;AACN,CAAC;AAED,SAAS,sBAAsB,CAAK,KAAsB;IACtD,uCAA4B,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;AAC3D,CAAC","sourcesContent":["import { modifiableApplicationContext } from './internal';\nimport {\n    Instantiable,\n    isInstantiable,\n    isQualifier,\n    Qualifier\n} from '../../global-types';\n\nexport function Component<T>( qualifier: Instantiable<T> | Qualifier  ): any {\n   if ( isQualifier(qualifier) ) {\n       return handleAsDecoratorFactory(qualifier);\n   } else if ( isInstantiable(qualifier) ) {\n       return handleAsPlainDecorator(qualifier);\n   }\n\n   throw new Error('Invalid argument for component decorator');\n}\n\nfunction handleAsDecoratorFactory( qualifier: Qualifier ) {\n    if ( !isQualifier(qualifier) ) {\n        throw new Error('Invalid Qualifier');\n    }\n    return <T>( clazz: Instantiable<T> ): void | T => {\n        modifiableApplicationContext.registerDependency(clazz, String(qualifier));\n    };\n}\n\nfunction handleAsPlainDecorator<T>( clazz: Instantiable<T> ) {\n    modifiableApplicationContext.registerDependency(clazz);\n}\n"]}